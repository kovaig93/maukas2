<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>discord.gg/ely</title>
    <style>
      :root {
        color-scheme: dark;
      }

      *,
      *::before,
      *::after {
        box-sizing: border-box;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background: #040405;
        font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
        cursor: none;
      }

      button,
      input,
      textarea,
      select,
      a,
      [role="button"],
      [role="link"] {
        cursor: none;
      }

      .video-wrapper {
        position: relative;
        min-height: 100vh;
        width: 100%;
        display: grid;
        place-items: center;
        background: radial-gradient(circle at top, rgba(255, 255, 255, 0.05), transparent 45%),
          #040405;
        overflow: hidden;
      }

      .video-wrapper::before {
        content: "";
        position: absolute;
        inset: 0;
        background: #000;
        z-index: 0;
      }

      video {
        position: absolute;
        inset: 0;
        display: block;
        width: 100%;
        height: 100%;
        min-width: 100%;
        min-height: 100%;
        max-width: none;
        max-height: none;
        object-fit: cover;
        object-position: center;
        filter: saturate(1.1) contrast(1.05);
        opacity: 0;
        transition: opacity 0.5s ease;
        z-index: 1;
      }

      .video-wrapper.is-playing video {
        opacity: 1;
      }

      .begin-overlay {
        position: absolute;
        inset: 0;
        display: grid;
        place-items: center;
        background: radial-gradient(circle at center, rgba(30, 30, 35, 0.4), rgba(0, 0, 0, 0.95));
        z-index: 2;
        transition: opacity 0.4s ease, visibility 0.4s ease;
      }

      .begin-prompt {
        font-size: 20px;
        letter-spacing: 0.4em;
        text-transform: uppercase;
        color: #f5f5f7;
        cursor: none;
        font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
        text-shadow: 0 0 16px rgba(120, 135, 255, 0.6), 0 0 32px rgba(65, 75, 160, 0.5);
        transition: transform 0.2s ease, text-shadow 0.2s ease;
        user-select: none;
        animation: prompt-pulse 3.6s ease-in-out infinite;
      }

      .begin-prompt:hover {
        transform: translateY(-2px);
        text-shadow: 0 0 20px rgba(155, 165, 255, 0.7), 0 0 40px rgba(80, 90, 180, 0.6);
      }

      .begin-prompt:active {
        transform: translateY(0);
        text-shadow: 0 0 12px rgba(120, 135, 255, 0.55), 0 0 24px rgba(65, 75, 160, 0.4);
      }

      @keyframes prompt-pulse {
        0%,
        100% {
          transform: scale(1);
          text-shadow: 0 0 14px rgba(120, 135, 255, 0.55), 0 0 30px rgba(65, 75, 160, 0.45);
        }
        50% {
          transform: scale(1.03);
          text-shadow: 0 0 22px rgba(155, 175, 255, 0.75), 0 0 44px rgba(90, 105, 200, 0.6);
        }
      }

      .video-wrapper.is-playing .begin-overlay {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }

      .reveal-section {
        min-height: 100vh;
        background: #000;
        display: grid;
        place-items: center;
        padding: 48px 24px;
      }

      .reveal-text {
        font-size: clamp(28px, 4vw, 56px);
        font-family: "Fira Code", "JetBrains Mono", "Source Code Pro", "IBM Plex Mono", "Courier New", monospace;
        color: #fff;
        text-shadow: 0 0 12px rgba(255, 255, 255, 0.75), 0 0 24px rgba(255, 255, 255, 0.55);
        letter-spacing: 0.02em;
        text-align: center;
        min-height: 1.5em;
        position: relative;
      }

      .reveal-text::after {
        content: "|";
        margin-left: 0.1em;
        opacity: 1;
        animation: cursor-blink 1s steps(2, start) infinite;
      }

      @keyframes cursor-blink {
        0%,
        100% {
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
      }

      .soundbar {
        position: absolute;
        bottom: 32px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
        gap: 16px;
        padding: 14px 24px;
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.35);
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.18), rgba(120, 135, 255, 0.15));
        color: #f5f5f7;
        box-shadow: 0 0 24px rgba(120, 135, 255, 0.35), 0 0 48px rgba(65, 75, 160, 0.3);
        font-size: 12px;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        opacity: 0;
        transform: translate(-50%, 12px);
        pointer-events: none;
        transition: opacity 0.3s ease, transform 0.3s ease;
        z-index: 3;
      }

      .soundbar__status {
        font-size: 12px;
        letter-spacing: 0.35em;
        text-transform: uppercase;
        opacity: 0.7;
      }

      .soundbar__label {
        font-size: 12px;
        letter-spacing: 0.35em;
      }

      .soundbar__slider {
        appearance: none;
        width: 180px;
        height: 6px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.2);
        outline: none;
      }

      .soundbar__slider::-webkit-slider-thumb {
        appearance: none;
        width: 16px;
        height: 16px;
        border-radius: 999px;
        background: #f5f5f7;
        box-shadow: 0 0 12px rgba(155, 165, 255, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.6);
      }

      .soundbar__slider::-moz-range-thumb {
        width: 16px;
        height: 16px;
        border-radius: 999px;
        background: #f5f5f7;
        box-shadow: 0 0 12px rgba(155, 165, 255, 0.6);
        border: 1px solid rgba(255, 255, 255, 0.6);
      }

      .soundbar__slider::-moz-range-track {
        height: 6px;
        border-radius: 999px;
        background: rgba(255, 255, 255, 0.2);
      }

      .video-wrapper.is-playing .soundbar {
        opacity: 1;
        transform: translate(-50%, 0);
        pointer-events: auto;
      }

      .custom-cursor,
      .custom-cursor__glow {
        position: fixed;
        top: 0;
        left: 0;
        width: 32px;
        height: 48px;
        pointer-events: none;
        z-index: 5;
        opacity: 0;
        transition: opacity 0.2s ease;
      }

      .custom-cursor {
        background: url("cursor.cur") no-repeat center / contain;
        border-radius: 0;
        filter: drop-shadow(0 0 8px rgba(180, 200, 255, 0.65));
        mix-blend-mode: normal;
      }

      .cursor-trail {
        position: fixed;
        top: 0;
        left: 0;
        pointer-events: none;
        z-index: 4;
      }

      .cursor-trail__dot {
        position: fixed;
        top: 0;
        left: 0;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        background: radial-gradient(circle, rgba(165, 190, 255, 0.7), rgba(90, 120, 240, 0));
        filter: blur(4px);
        opacity: 0;
        transition: opacity 0.2s ease;
        mix-blend-mode: screen;
      }

      .custom-cursor__glow {
        width: 40px;
        height: 40px;
        background: radial-gradient(circle, rgba(120, 145, 255, 0.45), rgba(50, 65, 140, 0) 70%);
        filter: blur(6px);
        opacity: 0;
        transition: opacity 0.3s ease;
        mix-blend-mode: screen;
      }

      body.cursor-ready .custom-cursor,
      body.cursor-ready .custom-cursor__glow,
      body.cursor-ready .cursor-trail__dot {
        opacity: 1;
      }

      body.cursor-glow-hidden .custom-cursor__glow {
        opacity: 0;
      }

      body.cursor-trail-hidden .cursor-trail__dot {
        opacity: 0;
      }

      body.cursor-clicking .custom-cursor {
        transform: translate(-50%, -50%) scale(0.85);
        box-shadow: none;
      }

      @media (hover: none) {
        body {
          cursor: auto;
        }

        .custom-cursor,
        .custom-cursor__glow,
        .cursor-trail {
          display: none;
        }
      }

    </style>
  </head>
  <body>
    <div class="video-wrapper">
      <video id="video" playsinline loop>
        <source src="videoplayback.mp4" type="video/mp4" />
        Your browser does not support the video tag.
      </video>
      <div class="begin-overlay">
        <div class="begin-prompt" role="button" aria-live="polite">Click to begin...</div>
      </div>
      <div class="soundbar" aria-live="polite">
        <span class="soundbar__label">Volume</span>
        <input
          class="soundbar__slider"
          type="range"
          min="0"
          max="1"
          step="0.01"
          value="0.3"
          aria-label="Volume"
        />
        <span class="soundbar__status" aria-live="polite">Paused</span>
      </div>
    </div>
    <section class="reveal-section" aria-live="polite">
      <div class="reveal-text" id="reveal-text"></div>
    </section>
    <div class="cursor-trail" aria-hidden="true">
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
      <div class="cursor-trail__dot"></div>
    </div>
    <div class="custom-cursor__glow" aria-hidden="true"></div>
    <div class="custom-cursor" aria-hidden="true"></div>

    <script>
      const video = document.getElementById("video");
      const wrapper = document.querySelector(".video-wrapper");
      const prompt = document.querySelector(".begin-prompt");
      const volumeSlider = document.querySelector(".soundbar__slider");
      const playbackStatus = document.querySelector(".soundbar__status");
      const revealSection = document.querySelector(".reveal-section");
      const revealText = document.getElementById("reveal-text");
      const cursor = document.querySelector(".custom-cursor");
      const cursorGlow = document.querySelector(".custom-cursor__glow");
      const trailDots = Array.from(document.querySelectorAll(".cursor-trail__dot"));
      const typingSoundSrc =
        "data:audio/wav;base64,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";

      let cursorX = window.innerWidth / 2;
      let cursorY = window.innerHeight / 2;
      const cursorHotspotX = 2;
      const cursorHotspotY = 2;
      const cursorWidth = 32;
      const cursorHeight = 48;
      const glowSize = 40;
      const trailPositions = trailDots.map(() => ({
        x: cursorX,
        y: cursorY,
      }));
      const trailDotOffset = 10;

      const updateCursor = () => {
        cursor.style.transform = `translate(${cursorX - cursorHotspotX}px, ${cursorY - cursorHotspotY}px)`;
        cursorGlow.style.transform = `translate(${cursorX - cursorHotspotX + cursorWidth / 2 - glowSize / 2}px, ${
          cursorY - cursorHotspotY + cursorHeight / 2 - glowSize / 2
        }px)`;
        let targetX = cursorX - cursorHotspotX + cursorWidth / 2;
        let targetY = cursorY - cursorHotspotY + cursorHeight / 2;
        trailDots.forEach((dot, index) => {
          const position = trailPositions[index];
          position.x += (targetX - position.x) * 0.22;
          position.y += (targetY - position.y) * 0.22;
          const scale = 1 - index * 0.06;
          dot.style.transform = `translate(${position.x - trailDotOffset}px, ${position.y - trailDotOffset}px) scale(${scale})`;
          dot.style.opacity = String(0.65 - index * 0.045);
          targetX = position.x;
          targetY = position.y;
        });
        requestAnimationFrame(updateCursor);
      };

      const handlePointerMove = (event) => {
        cursorX = event.clientX;
        cursorY = event.clientY;
        if (!document.body.classList.contains("cursor-ready")) {
          document.body.classList.add("cursor-ready");
        }
      };

      window.addEventListener("pointermove", handlePointerMove);
      window.addEventListener("pointerdown", () => document.body.classList.add("cursor-clicking"));
      window.addEventListener("pointerup", () => document.body.classList.remove("cursor-clicking"));
      updateCursor();

      let hasStarted = false;
      let hasScrolled = false;
      const setPlaybackStatus = (isPlaying) => {
        playbackStatus.textContent = isPlaying ? "Playing" : "Paused";
      };

      const sleep = (ms) => new Promise((resolve) => setTimeout(resolve, ms));

      const playTypingSound = () => {
        const sound = new Audio(typingSoundSrc);
        sound.volume = 0.35;
        sound.play();
      };

      const playRevealText = async () => {
        if (!revealText || revealText.dataset.started === "true") {
          return;
        }
        revealText.dataset.started = "true";
        const firstSentence = [
          "Did",
          "you",
          "know",
          "he",
          "legally",
          "changed",
          "his",
          "will",
          "just",
          "two",
          "days",
          "before",
          "he",
          "died,",
          "moving",
          "nearly",
          "all",
          "his",
          "money",
          "into",
          "a",
          "trust",
          "that",
          "didnâ€™t",
          "have",
          "to",
          "name",
          "beneficiaries",
          "publicly?",
        ];
        const secondSentence = ["weird", "huh?"];
        let output = "";
        const firstLetterDelay = 67;
        const firstWordDelay = 155;
        const secondLetterDelay = 80;
        const secondWordDelay = 187;
        const deleteDelay = 20;

        const typeSentence = async (words, letterDelay, wordDelay) => {
          for (const word of words) {
            for (const letter of word) {
              output += letter;
              revealText.textContent = output;
              playTypingSound();
              await sleep(letterDelay);
            }
            output += " ";
            revealText.textContent = output;
            await sleep(wordDelay);
          }
        };

        const deleteText = async () => {
          while (output.length > 0) {
            output = output.slice(0, -1);
            revealText.textContent = output;
            await sleep(deleteDelay);
          }
        };

        await typeSentence(firstSentence, firstLetterDelay, firstWordDelay);
        await sleep(3000);
        await deleteText();
        await sleep(1000);
        await typeSentence(secondSentence, secondLetterDelay, secondWordDelay);
      };

      const scrollToReveal = () => {
        if (!revealSection || hasScrolled) {
          return;
        }
        hasScrolled = true;
        window.scrollTo({ top: revealSection.offsetTop, behavior: "smooth" });
        const reducedVolume = Math.max(0, video.volume * 0.3);
        video.volume = reducedVolume;
        volumeSlider.value = String(reducedVolume);
        setTimeout(() => {
          playRevealText();
        }, 800);
      };

      const startPlayback = async () => {
        if (hasStarted) {
          return;
        }
        hasStarted = true;
        video.muted = false;
        video.volume = 0.2;
        volumeSlider.value = String(video.volume);
        try {
          video.currentTime = 1.45;
          await video.play();
          wrapper.classList.add("is-playing");
          document.body.classList.add("cursor-glow-hidden");
          document.body.classList.add("cursor-trail-hidden");
          setPlaybackStatus(true);
          setTimeout(() => {
            scrollToReveal();
          }, 8000);
        } catch (error) {
          // If playback fails, keep the overlay visible.
          hasStarted = false;
        }
      };

      const handleStartInteraction = () => {
        startPlayback();
      };

      prompt.addEventListener("click", handleStartInteraction);
      window.addEventListener("pointerdown", handleStartInteraction);
      window.addEventListener("keydown", handleStartInteraction);

      video.addEventListener("click", () => {
        if (!hasStarted) {
          return;
        }
        if (video.paused) {
          video.play();
        } else {
          video.pause();
        }
      });

      video.addEventListener("play", () => setPlaybackStatus(true));
      video.addEventListener("pause", () => setPlaybackStatus(false));

      setPlaybackStatus(false);

      volumeSlider.addEventListener("input", (event) => {
        const value = Number(event.target.value);
        video.volume = value;
        if (value > 0) {
          video.muted = false;
        }
      });
    </script>
  </body>
</html>
